## Пишем скрипт.

### Цель:

  В результате этого ДЗ вы научитесь писать простые скрипты,
решающие нужны задачи, такие как мониторинг кол-ва ошибок в
логах Освоите работу с файлами, поиском, парсингом текста,
управлением блокировками.  

### Написать скрипт для крона:  
- который раз в час присылает на заданную почту:
    - X IP адресов (с наибольшим кол-вом запросов) с указанием кол-ва запросов c момента последнего запуска скрипта
    - Y запрашиваемых адресов (с наибольшим кол-вом запросов) с указанием кол-ва запросов c момента последнего запуска скрипта
    - все ошибки c момента последнего запуска
    - список всех кодов возврата с указанием их кол-ва с момента последнего запуска
- в письме должно быть прописан обрабатываемый временной диапазон
- должна быть реализована защита от мультизапуска

### Критерии оценки:

  трапы и функции, а также sed и find +1 балл  



## Домашняя работа.

### Цель:  

  Освоение регулярных выражений и функций.  

### Решение:  

  parser.sh - скрипт разбора логов. Скрипт создает два файла
лога: last.log и all.log. В last.log пишется вся информация,
требуемая в домашнем задании, также добавляются строки начала
и конца работы скрипта, с указанием времени. По этому времени
скрипт отбирает диапазон строк для последующей работы. В конец
файла добавляется контрольное слово END, по которому проверяется
успех последнего запуска скрипта. Если файл last.log отсутствует,
то скрипт работает по всему логу. В all.log добавляется историия
работы last.log, путем дописывания его в конец файла.
  В конце работы скрипт посылает письмо с выводом значений из
last.log на почту master@otus.ru


  Для установки запуска скрипта добавим задание в крон:

crontab -e

  Укажем временной диапазон запуска равный 1 часу:

@hourly ~/parser.sh